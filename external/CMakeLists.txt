cmake_minimum_required(VERSION 3.29)

if (${USE_MIMALLOC})
	set(MI_SECURE TRUE CACHE BOOL "" FORCE)
	set(MI_DEBUG_FULL $<STREQUAL:$<CONFIG>,Debug> CACHE BOOL "" FORCE)
	set(MI_OVERRIDE FALSE CACHE BOOL "" FORCE)
	set(MI_BUILD_SHARED FALSE CACHE BOOL "" FORCE)
	set(MI_BUILD_STATIC TRUE CACHE BOOL "" FORCE)
	set(MI_BUILD_OBJECT FALSE CACHE BOOL "" FORCE)
	set(MI_BUILD_TESTS FALSE CACHE BOOL "" FORCE)
	add_subdirectory(mimalloc)
endif()

